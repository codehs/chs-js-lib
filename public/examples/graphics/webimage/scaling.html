<!DOCTYPE html>
<html>
    <head>
        <title>Scaling</title>
    </head>
</html>
<body>
    <canvas id="game" width="480" height="400"></canvas>
    <script src="../../../../dist/chs.iife.js"></script>
    <script id="code">
        const IMG_URL =
            'https://upload.wikimedia.org/wikipedia/commons/d/da/The_Parthenon_in_Athens.jpg';

        const image = new WebImage(IMG_URL);

        let w = 10;
        let h = 10;
        let aspectRatio = 1;
        let maxW;
        let dh = -4;
        image.loaded(() => {
            add(image);
            aspectRatio = image.width / image.height;
            maxW = image.width;
            w = image.width;
            h = image.height;
            start();
        });
        start = () => {
            setTimer(() => {
                h += dh;
                w = aspectRatio * h;
                image.setSize(w, h);
                if (h <= 50 || w > maxW) {
                    dh = -dh;
                }
            }, 30);
        };
    </script>
    <p>This program resizes the image.</p>
</body>
