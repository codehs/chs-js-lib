<!DOCTYPE html>
<html>
    <head>
        <title>Scaling</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css" />
<link rel="stylesheet" href="/style.css" />
<script type="text/javascript" src="/main.js"></script>
    </head>
</html>
<body>
    <header>
        <h1>WebImage - Scaling</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/examples">Examples</a>
        </nav>
    </header>
    <canvas id="game" width="480" height="200"></canvas>
    <script src="/chs.iife.js"></script>
    <script id="code">
        const IMG_URL =
            'https://upload.wikimedia.org/wikipedia/commons/d/da/The_Parthenon_in_Athens.jpg';

        const image = new WebImage(IMG_URL);

        let w = 10;
        let h = 10;
        let aspectRatio = 1;
        let maxW;
        let dh = -4;
        image.loaded(() => {
            add(image);
            aspectRatio = image.width / image.height;
            maxW = image.width;
            w = image.width;
            h = image.height;
            start();
        });
        start = () => {
            setTimer(() => {
                h += dh;
                w = aspectRatio * h;
                image.setSize(w, h);
                if (h <= 50 || w > maxW) {
                    dh = -dh;
                }
            }, 30);
        };
    </script>
    <p>This program resizes an image by calling <code>setSize</code>.</p>
</body>
