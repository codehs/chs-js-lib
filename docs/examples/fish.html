<!DOCTYPE html>
<html>
<head>
  <title>Test</title>
</head>
<body>
  <canvas id="game" width="480" height="400"></canvas>
  <script src="../../dist/chs.iife.js"></script>
  <script id="code">
    const fish = (x, y, color) => {
      const g = new Group();
      const HEAD_RADIUS = 35;
      const BODY_LENGTH = 120;
      const BODY_HEIGHT = 2 * HEAD_RADIUS;
      const head = new Arc(HEAD_RADIUS, 190, 170, Arc.DEGREES);
      head.setColor(color);
      head.debug = true;
      const body = new Polygon();
      body.setColor(color);
      body.addPoint(0, -BODY_HEIGHT / 2);
      body.addPoint(BODY_LENGTH / 2, -BODY_HEIGHT / 2);
      body.addPoint(BODY_LENGTH, 0);
      body.addPoint(BODY_LENGTH / 2, BODY_HEIGHT/2);
      body.addPoint(0, BODY_HEIGHT/2);
      body.debug = true;
      const dorsalFin = new Rectangle(30, 30);
      dorsalFin.setPosition(BODY_LENGTH / 2 - 50, -50);
      dorsalFin.setColor(color)
      dorsalFin.debug = true;
      dorsalFin.setRotation(45);
      const tail = new Rectangle(50, 30);
      tail.setRotation(-45);
      tail.setAnchor({vertical: 0.5, horizontal: 0.5});
      tail.setColor(color);
      tail.debug = true;
      tail.setPosition(BODY_LENGTH, 0);

      const l = new Line(0, 0, 200, 0)
      g.add(head);
      g.add(body);
      g.add(dorsalFin);
      g.add(tail);
      g.add(l);
      g.debug = true;
      g.setPosition(x, y);
      add(g);
    };

    fish(0, 0, 'orange');
  </script>
</body>
</html>